<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
     #block{
     	width: 50px;
     	height: 50px;
     	background-color: black;
     	display: inline-block;
     	vertical-align: top;
     }
	</style>
</head>
<body>
	<canvas id="canvas" width="400" height="400">你的浏览器不支持canvas</canvas>
	<span id="block"></span>
	<script>
		var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");

		for(var i=0;i<16;i++){            
			for(var j=0;j<16;j++){
				ctx.fillStyle="rgb(0,"+(255-i*16)+","+(255-j*16)+")";
			    ctx.fillRect(i*25,j*25,25,25);
			}
		}

        var block=document.getElementById("block");
        canvas.onmousemove=function(e){
        	var x=e.layerX;
        	var y=e.layerY;
            
            var imageData=ctx.getImageData(x,y,1,1);
            var r=imageData.data[0];
            var g=imageData.data[1];
            var b=imageData.data[2];
        	
        	block.style.backgroundColor = "rgb("+r+","+g+","+b+")";
        }
	</script>
</body>
</html>